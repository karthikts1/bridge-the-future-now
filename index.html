<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AlumniConnect - Bridge Your Future</title>
    <meta name="description" content="AlumniConnect brings together students and alumni for mentorship, career guidance, and academic support." />
    <meta name="author" content="AlumniConnect" />

    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="AlumniConnect - Bridge Your Future" />
    <meta property="og:description" content="AlumniConnect brings together students and alumni for mentorship, career guidance, and academic support." />
    <meta property="og:type" content="website" />
    <meta property="og:image" content="https://lovable.dev/opengraph-image-p98pqg.png" />

    <!-- Twitter Meta Tags -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="@lovable_dev" />
    <meta name="twitter:image" content="https://lovable.dev/opengraph-image-p98pqg.png" />

    <!-- Favicon -->
    <link rel="icon" href="favicon.ico" type="image/x-icon">

    <!-- IMPORTANT: DO NOT REMOVE THIS SCRIPT TAG OR THIS VERY COMMENT! -->
    <script src="https://cdn.gpteng.co/gptengineer.js" type="module"></script>

    <!-- Tailwind main script -->
    <script type="module" src="src/main.tsx"></script>
  </head>

  <body class="relative font-sans bg-background text-foreground">

    <div id="root"></div>

    <!-- üí¨ AlumniConnect Chatbot Widget -->
    <div id="chatbox" class="fixed bottom-4 right-4 w-80 max-w-full bg-alumni-50 border border-alumni-100 rounded-xl shadow-xl p-4 z-50">
      <div id="messages" class="h-52 overflow-y-auto mb-3 space-y-2 text-sm text-alumni-900"></div>
      <div class="flex gap-2">
        <input
          type="text"
          id="userInput"
          placeholder="Ask AlumniConnect..."
          class="flex-1 px-3 py-2 border border-alumni-200 rounded-lg text-sm bg-white text-alumni-900 focus:outline-none focus:ring-2 focus:ring-[--ring]"
          onkeydown="if(event.key === 'Enter') sendMessage()"
        />
        <button
          onclick="sendMessage()"
          class="px-4 py-2 bg-alumni-600 text-white text-sm rounded-lg hover:bg-alumni-700 transition"
        >
          Send
        </button>
      </div>
    </div>

    <script>
      async function sendMessage() {
        const input = document.getElementById("userInput");
        const msg = input.value.trim();
        if (!msg) return;

        const messagesDiv = document.getElementById("messages");
        messagesDiv.innerHTML += `<div><strong>You:</strong> ${msg}</div>`;

        try {
          const response = await fetch("https://7489-2406-7400-75-2183-b5ca-bf82-eac-d0a5.ngrok-free.app/chat", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({ message: msg }),
          });

          const data = await response.json();
          messagesDiv.innerHTML += `<div><strong>Bot:</strong> ${data.response}</div>`;
          messagesDiv.scrollTop = messagesDiv.scrollHeight;
        } catch (error) {
          messagesDiv.innerHTML += `<div class="text-red-500">‚ö†Ô∏è Error: Could not reach bot</div>`;
        }

        input.value = "";
      }
    </script>

  </body>
</html>

